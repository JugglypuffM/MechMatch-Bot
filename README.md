# MechMatch

Это telegram-бот для знакомств.
Пользователь заполняет анкету и бот волшебными образом подбирает ему собеседника!
Умеет подбирать собеседника по полу, возрасту и городу, а так же сохранять обложки для профилей.
Сохраняет всех пользователей в PostgreSQL базу данных, взаимодействие с котрой происходит при помощи Hibernate.
Пишет логи при помощи log4j.
Настроен простой CI/CD через GitHub Actions.

## Запуск бота

### Локально
#### Настройка окружения
- Создать файл `.env` в корне проекта.
- Заполнить по образцу `.env-example`
- Чтобы использовать свою базу данных нужно заполнить PG_DEFAULT HOST и PORT

#### Настройка базы данных
Создать базу `mechmatchdb` данных PostgreSQL и необходимые таблицы(файлы в `src/main/java/database/init`)


### Docker

#### Настройка окружения
- Создать файл `.env` в корне проекта.
- Заполнить по образцу `.env-example`
- PG_DEFAULT HOST и PORT можно оставить пустыми, они используются для локального запуска

#### Настройка базы данных
Инициализация таблиц происходит автоматически при первой сборке

#### Docker Compose
1. Настроить networks и volumes
    ```shell
    docker network create localnet  
    ```
    ```shell
    docker volume create bot_db
    ```
2. Запустить сборку
    ```shell
    docker compose up -d
    ```
